<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="Watch popular movies, top TV shows, and exclusive content online on JioStream. Explore thousands of titles across genres and enjoy seamless streaming anytime, anywhere.">
  <title>JioStream - Watch Movies, TV Shows, and More Anytime, Anywhere</title>
  <link rel="preconnect" href="https://api.themoviedb.org" crossorigin>
  <link rel="preconnect" href="https://image.tmdb.org" crossorigin>

  <style>
    body {
      margin: 0;
      font-family: Georgia, 'Times New Roman', Times, serif;
      position: relative;
      overflow: auto; /* Allow scrolling */
      background: #0f0c29; /* Fallback for old browsers */
      color: white; /* Text color for visibility */
    }
    
    header {
      position: relative;
    }
    
    header {
      color: #fff;
    }
    .fixed-footer {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: rgba(51, 51, 51, 0.7);
        color: white;
        text-align: center;
        padding: 10px 0;
        backdrop-filter: blur(10px);
        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.2);
        transition: background-color 0.3s;
        overflow: hidden;
    }
    
    .fixed-footer:hover {
        background-color: rgba(51, 51, 51, 0.9);
    }
    .disclaimer {
      color: yellow;
      font-size: 1.2rem;
        display: inline-block;
        animation: scroll 10s linear infinite; 
        white-space: nowrap;
    }
    
    @keyframes scroll {
        0% {
            transform: translateX(100%);
        }
        100% {
            transform: translateX(-100%);
        }
    }
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1300px;
      margin: 0 auto;
    }
    .logo a {
        margin-top: 0;
        margin-bottom:0;
        padding: 0;
      font-size: 2em;
      text-decoration: none;
    }
    .logo a,
    .logo a:hover {
      color: inherit;
    }
    .nav-links {
      position: relative;
      display: flex;
      width: 240px; /* Width of the toggle */
      padding: 0.5rem;
      border-radius: 20px; /* Round edges */
      overflow: hidden; /* Hide overflow */
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5); /* Softer shadow for depth */
      background: #222; /* Background color */
    }
    
    .nav-links a {
      flex: 1; /* Equal width for buttons */
      color: #fff;
      text-decoration: none;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100%;
      font-weight: bold; /* Bold text */
      transition: background-color 0.3s ease, transform 0.3s ease;
      position: relative; /* Needed for the hover effect */
      z-index: 1; /* Keep buttons above the indicator */
    }
    main {
        margin: auto;
        max-width: 1300px;
        padding: 1rem 0 0 1rem;
    }
    .content-view {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 2rem;
    }
    .movie-card {
      background-color: #fff;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
      position: relative;
      width: 100%;
      height: 350px;
    }
    .movie-card:hover {
      transform: scale(1.02);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      border: 2px solid hsla(0, 0%, 100%, 0.3);
    }
    .movie-poster {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: filter 0.3s ease;
      border-radius: 8px;
    }
    .movie-card:hover .movie-poster {
      filter: blur(3px) brightness(0.6);
    }
    .movie-info {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 1rem;
      color: #fff;
      background: linear-gradient(0deg, rgba(0, 0, 0, 0.8), transparent);
      transform: translateY(100%);
      transition: transform 0.4s ease, background 0.4s ease;
      text-align: center;
    }
    .movie-card:hover .movie-info {
      transform: translateY(0);
    }
    .movie-title {
      font-size: 1.5em;
      font-weight: 700;
      color: #ff0;
      margin-bottom: 0.5rem;
    }
    .movie-release-date {
      margin: 0 0 0.5rem;
      font-size: 0.9em;
    }
    .movie-overview {
      font-size: 0.9em;
      line-height: 1.4;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    .movie-rating {
      position: absolute;
      top: 10px;
      left: 10px;
      background-color: rgba(3, 37, 65, 0.8);
      color: #ff0;
      padding: 0.3rem 0.6rem;
      border-radius: 50px;
      font-weight: 700;
    }
    
    @media (max-width: 768px) {
      header {
        text-align: center;
      }
      h1{
        margin: 1rem;
        
      }
      nav {
        flex-direction: column;
        align-items: stretch;
      }
      .nav-links {
        margin: auto;
        justify-content: center;
      }
      .content-view {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
      main {
        padding: .5rem;
        margin: 0;
        max-width: 1300px;
      }
      .movie-card {
        display: flex;
        height: 150px;
      }
      .movie-poster {
        border-radius: 8px;
        width: 100px;
        height: 150px;
      }
      .movie-info {
        padding-top: 0;
        padding-bottom: 0;
        margin: 0;
        position: static;
        transform: none;
        background: #fff;
        color: #333;
        flex: 1;
        display: flex;
        flex-direction: column;
      }
      .movie-card:hover .movie-poster {
        filter: blur(1.5px) brightness(1.0);
      }
      .movie-title {
        text-align: start;
        font-size: 1em;
        color: #032541;
      }
      .movie-release-date {
        text-align: start;
        font-size: 0.8em;
        color: #666;
      }
      .movie-overview {
        text-align: start;
        font-size: 0.8em;
        -webkit-line-clamp: 3;
        line-clamp: 3;
      }
      .movie-rating {
        display: none;
      }
    }
    .detail-content {
      max-width: 1300px;
      margin: 2rem auto;
      padding: 0 1rem;
    }
    .backdrop-container {
      position: relative;
      width: 100%;
      background-size: cover;
      background-position: 50%;
      background-repeat: no-repeat;
      border-radius: 10px;
      overflow: hidden;
    }
    .backdrop-container:before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
    }
    .detail-info {
      display: flex;
      gap: 2rem;
      padding: 2rem;
      position: relative;
    }
    .detail-poster {
      width: 300px;
      height: 450px;
      object-fit: cover;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .detail-text {
      flex-grow: 1;
      color: #fff;
    }
    .detail-title {
      color: #ff0;
      font-size: 3rem;
      margin-bottom: 0.5rem;
    }
    .detail-meta {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    .detail-overview {
      font-size: 1.5rem;
      line-height: 1.6;
      margin-bottom: 1.5rem;
    }
    .button-container {
      display: flex; /* Use flexbox for layout */
      flex-wrap: wrap; /* Allow wrapping for rows */
      gap: 1rem; /* Add gap between buttons */
      margin: 1rem 0; /* Optional: Add margin for spacing */
    }
    
    /* Style for buttons */
    .watch-trailer-btn {
      flex: 1 1 calc(33.333% - 1rem); /* 3 buttons per row, accounting for gap */
      background-color: #003283;
      color: #fff;
      border: none;
      padding: 0.75rem 1.5rem;
      font-size: 1.1rem;
      border-radius: 20px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    
    .trailer-container {
      max-width: 1300px;
      margin: 1rem 0 1rem 0;
      display: none;
    }
    .trailer-container.active {
      display: block;
    }
    .trailer-container iframe {
      width: 100%;
      height: 576px;
      border: none;
      border-radius: 10px;
    }
    .related-content {
      max-width: 1300px;
      margin: 3rem auto;
      padding: 0 1rem;
    }
    .related-content h2 {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
      color: #ff0;
    }
    .related-content h1 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 1.5rem;
      color: #ff0;
    }
    @media (max-width: 768px) {
      .backdrop-container {
        background-image: none !important;
      }
      .backdrop-container:before {
        display: none;
      }
      .detail-content {
        max-width: 1300px;
        margin: 2rem auto;
        padding: 0;
      }
      .detail-info {
        flex-direction: column;
        padding: 0;
      }
      .detail-poster {
        width: 100%;
        height: auto;
        max-width: 300px;
        margin: 0 auto 1rem;
      }
      .detail-text {
        text-align: center;
        color: #fff;
      }
      .detail-title {
        font-size: 2rem;
        text-align: center;
        color: #ff0;
      }
      .detail-meta {
        text-align: center;
        color: #fff;
      }
      .detail-overview {
        font-size: 1rem;
        line-height: 1.6;
        margin-bottom: 1.5rem;
      }
      .button-container {
        flex-direction: column;
      }
      .watch-trailer-btn {
        display: block;
        width: 100%;
        margin-top: 1rem;
      }
      .related-content {
        max-width: 1300px;
        margin: 3rem auto;
        padding: 0;
      }
      .related-content h2 {
        font-size: 1rem;
        margin-bottom: 0.5rem;
        color: #032541;
      }
      .trailer-container iframe {
        height: 250px;
      }
    }

    #loadingIndicator, #errorMessage {
      text-align: center;
      padding: 1rem;
      font-size: 1.2rem;
    }

    #errorMessage {
      color: red;
    }
  </style>
</head>
<body>
  <header>
    <nav>
      <div class="logo">
        <a href="index.html">
          <h1>JioStream</h1>
        </a>
      </div>
      <div class="nav-links"><a href="index.html" class="active">Back To Home</a></div>
    </nav>
  </header>
  <main>
    <div id="loadingIndicator" style="display: none;">Loading...</div>
    <div id="errorMessage" style="display: none;"></div>
    <div class="detail-content" id="detail-content">
      <div class="backdrop-container">
        <div class="detail-info">
          <img alt="Poster" class="detail-poster" id="detail-poster" loading="lazy" src="">
          <div class="detail-text">
            <h1 class="detail-title" id="detail-title"></h1>
            <div class="detail-meta" id="detail-meta"></div>
            <p class="detail-overview" id="detail-overview"></p>
            <div class="button-container">
              <button class="watch-trailer-btn" id="watch-trailer-btn">Vidsrc</button>
              <button class="watch-trailer-btn" id="watch-trailer-btn2">2embed</button>
              <button class="watch-trailer-btn" id="watch-trailer-btn3">Superembed</button>
            </div>
          </div>
        </div>
      </div>
      <div class="trailer-container" id="trailer-container"></div>
      <div class="trailer-container" id="trailer-container2"></div>
      <div class="trailer-container" id="trailer-container3"></div>
      <div class="related-content" id="related-content">
        <h1>Related Content</h1>
        <div class="content-view" id="related-grid"></div>
      </div>
    </div>
  </main>
  <footer class="fixed-footer">
    <div class="disclaimer">
      Disclaimer: We do not store any files on our servers; All the videos and data are hosted on third-party services.
    </div>
  </footer>
  <script>
    const API_KEY = "aad3fab1607b552befd9a2ac37e556af";
    const BASE_URL = "https://api.themoviedb.org/3";
    const IMG_BASE_URL = "https://image.tmdb.org/t/p/original";
  
    async function fetchDetails(id, type) {
      showLoading();
      hideError();
      try {
        const response = await fetch(`${BASE_URL}/${type}/${id}?api_key=${API_KEY}&append_to_response=videos`);
        if (!response.ok) {
          throw new Error("Network response was not ok " + response.statusText);
        }
        const data = await response.json();
        displayDetails(data, type);
      } catch (error) {
        console.error("Error:", error);
        showError("Failed to fetch details. Please try again later.");
      } finally {
        hideLoading();
      }
    }
  
    function displayDetails(data, type) {
      const backdropContainer = document.querySelector(".backdrop-container");
      const posterElement = document.getElementById("detail-poster");
      const titleElement = document.getElementById("detail-title");
      const metaElement = document.getElementById("detail-meta");
      const overviewElement = document.getElementById("detail-overview");
      const watchTrailerBtn1 = document.getElementById("watch-trailer-btn");
      const watchTrailerBtn2 = document.getElementById("watch-trailer-btn2");
      const watchTrailerBtn3 = document.getElementById("watch-trailer-btn3");
  
      const backdropUrl = data.backdrop_path ? `${IMG_BASE_URL}${data.backdrop_path}` : "";
      const posterUrl = data.poster_path ? `${IMG_BASE_URL}${data.poster_path}` : "";
      const releaseDate = new Date(data.release_date || data.first_air_date).toLocaleDateString("en-US", {
        year: "numeric",
        month: "long",
        day: "numeric"
      });
  
      document.title = `${data.title || data.name} - Stream Now on JioStream`;
  
      backdropContainer.style.backgroundImage = `url(${backdropUrl})`;
      posterElement.src = posterUrl;
      posterElement.alt = data.title || data.name;
  
      titleElement.textContent = data.title || data.name;
      metaElement.innerHTML = `
        <span>${releaseDate}</span> | 
        <span>${type === "movie" ? `${data.runtime} min` : `${data.episode_run_time[0]} min/episode`}</span> | 
        <span>${data.genres.map(genre => genre.name).join(", ")}</span>
      `;
      overviewElement.textContent = data.overview;
  
      watchTrailerBtn1.style.display = "block";
      watchTrailerBtn1.onclick = () => toggleTrailer(type, data.id, 1);
      watchTrailerBtn2.style.display = "block";
      watchTrailerBtn2.onclick = () => toggleTrailer(type, data.id, 2);
      watchTrailerBtn3.style.display = "block";
      watchTrailerBtn3.onclick = () => toggleTrailer(type, data.id, 3);
    }
  
    function toggleTrailer(type, id, source) {
      const trailerContainers = [
        document.getElementById("trailer-container"),
        document.getElementById("trailer-container2"),
        document.getElementById("trailer-container3")
      ];
  
      trailerContainers.forEach((container, index) => {
        if (index + 1 === source) {
          container.classList.add("active");
          let videoUrl;
          switch (source) {
            case 1:
              videoUrl = type === "movie" ? `https://vidsrc.dev/embed/movie/${id}` : `https://vidsrc.dev/embed/tv/${id}/1/1`;
              break;
            case 2:
              videoUrl = `https://hnembed.cc/embed/${type}/${id}`;
              break;
            case 3:
              videoUrl = `https://multiembed.mov/?video_id=${id}&tmdb=1${type === "tv" ? "&s=1&e=1" : ""}`;
              break;
          }
          container.innerHTML = `<iframe src="${videoUrl}" frameborder="0" allow="autoplay; encrypted-media" 
   allowfullscreen></iframe>`;
        } else {
          container.classList.remove("active");
          container.innerHTML = "";
        }
      });
    }
  
    async function fetchRelatedContent(id, type) {
      try {
        const response = await fetch(`${BASE_URL}/${type}/${id}/recommendations?api_key=${API_KEY}`);
        if (!response.ok) {
          throw new Error("Network response was not ok " + response.statusText);
        }
        const data = await response.json();
        displayRelatedContent(data.results.slice(0, 10), type);
      } catch (error) {
        console.error("Error:", error);
        showError("Failed to fetch related content. Please try again later.");
      }
    }
  
    function displayRelatedContent(items, type) {
      const relatedGrid = document.getElementById("related-grid");
      relatedGrid.innerHTML = "";
  
      items.forEach(item => {
        const card = document.createElement("div");
        card.className = "movie-card";
        const posterUrl = item.poster_path ? `${IMG_BASE_URL}${item.poster_path}` : "";
        const releaseDate = new Date(item.release_date || item.first_air_date).toLocaleDateString("en-US", {
          year: "numeric",
          month: "long",
          day: "numeric"
        });
        const rating = Math.round(item.vote_average * 10);
  
        card.innerHTML = `
          <img class="movie-poster" src="${posterUrl}" alt="${item.title || item.name}" loading="lazy">
          <div class="movie-info">
            <h2 class="movie-title">${item.title || item.name}</h2>
            <p class="movie-release-date">${releaseDate}</p>
            <div class="movie-overview">${item.overview}</div>
          </div>
          <div class="movie-rating">${rating}%</div>
        `;
  
        card.addEventListener("click", () => {
          window.location.href = `detail.html?id=${item.id}&type=${type}`;
        });
  
        relatedGrid.appendChild(card);
      });
    }
  
    function showLoading() {
      document.getElementById('loadingIndicator').style.display = 'block';
    }
  
    function hideLoading() {
      document.getElementById('loadingIndicator').style.display = 'none';
    }
  
    function showError(message) {
      const errorElement = document.getElementById('errorMessage');
      errorElement.textContent = message;
      errorElement.style.display = 'block';
    }
  
    function hideError() {
      document.getElementById('errorMessage').style.display = 'none';
    }
  
    document.addEventListener("DOMContentLoaded", () => {
      const urlParams = new URLSearchParams(window.location.search);
      const id = urlParams.get("id");
      const type = urlParams.get("type");
  
      if (id && type) {
        fetchDetails(id, type);
        fetchRelatedContent(id, type);
      } else {
        showError("Invalid URL parameters. Please go back to the home page and try again.");
      }
    });
  </script>   
</body>
</html>